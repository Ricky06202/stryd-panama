---
import '../styles/global.css'
const { title } = Astro.props
---

<html lang="es" class="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title} - Admin Stryd Panama</title>
  </head>
  <body
    class="bg-background text-foreground min-h-screen flex flex-col font-sans"
  >
    <!-- Mobile Header -->
    <header
      class="lg:hidden flex items-center justify-between p-4 border-b border-border bg-card"
    >
      <h1 class="text-xl font-bold text-primary">Stryd Admin</h1>
      <button id="menuBtn" class="text-foreground p-2 focus:outline-none">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"></path>
        </svg>
      </button>
    </header>

    <div class="flex flex-1 overflow-hidden">
      <!-- Sidebar Navigation -->
      <aside
        id="sidebar"
        class="fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border transform -translate-x-full lg:translate-x-0 lg:static lg:block transition-transform duration-300 ease-in-out"
      >
        <div class="h-full flex flex-col">
          <div class="p-6 border-b border-border hidden lg:block">
            <h1 class="text-2xl font-bold text-primary">Stryd Admin</h1>
          </div>

          <nav class="flex-1 mt-6 px-4 space-y-2">
            <a
              href="/admin"
              class="flex items-center px-4 py-3 rounded-lg hover:bg-secondary transition text-foreground font-medium"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"
                ></path></svg
              >
              Dashboard
            </a>
            <a
              href="/admin/posts"
              class="flex items-center px-4 py-3 rounded-lg hover:bg-secondary transition text-foreground font-medium"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"
                ></path></svg
              >
              Blog Posts
            </a>
            <a
              href="/admin/events"
              class="flex items-center px-4 py-3 rounded-lg hover:bg-secondary transition text-foreground font-medium"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-3"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                ></path></svg
              >
              Eventos
            </a>
          </nav>

          <div class="p-4 border-t border-border">
            <a
              href="/"
              class="flex items-center justify-center px-4 py-2 border border-border rounded-lg hover:bg-secondary text-foreground transition"
            >
              <span class="mr-2">‚Üê</span> Volver al sitio
            </a>
          </div>
        </div>
      </aside>

      <!-- Overlay for mobile sidebar -->
      <div id="overlay" class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden">
      </div>

      <!-- Main Content -->
      <main class="flex-1 w-full overflow-y-auto bg-background p-4 lg:p-8">
        <div class="max-w-7xl mx-auto w-full">
          <slot />
        </div>
      </main>
    </div>

    <script>
      const menuBtn = document.getElementById('menuBtn')
      const sidebar = document.getElementById('sidebar')
      const overlay = document.getElementById('overlay')

      function toggleSidebar() {
        const isClosed = sidebar.classList.contains('-translate-x-full')
        if (isClosed) {
          sidebar.classList.remove('-translate-x-full')
          overlay.classList.remove('hidden')
        } else {
          sidebar.classList.add('-translate-x-full')
          overlay.classList.add('hidden')
        }
      }

      menuBtn?.addEventListener('click', toggleSidebar)
      overlay?.addEventListener('click', toggleSidebar)
    </script>
  </body>
</html>
